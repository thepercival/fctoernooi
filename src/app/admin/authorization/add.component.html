<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-sm-10 col-md-8 col-lg-6">
            <app-tournament-title [tournament]="tournament"></app-tournament-title>
            <div class="d-flex justify-content-between me-1 mb-3">
                <h2 (click)="openHelpModal()" class="pointer">
                    <fa-icon [icon]="['fas', 'user-friends']"></fa-icon> gebruiker toevoegen <fa-icon class="text-info"
                        [icon]=" ['fas', 'info-circle' ]"></fa-icon>
                </h2>
            </div>
            <h2 *ngIf="processing" class="text-center">
                <fa-icon [icon]="['fas', 'spinner']" [spin]="true"></fa-icon>
            </h2>
            <ngb-alert *ngIf="alert" [type]="alert.type">{{ alert.message }}</ngb-alert>
            <form *ngIf="!processing" name="form" (ngSubmit)="save()" [formGroup]="form" novalidate>
                <div class="row mb-3">
                    <div class="col-3 col-sm-6">
                        <label for="emailaddress" class="col-form-label">emailadres</label>
                    </div>
                    <div class="col-9 col-sm-6">
                        <input class="form-control"
                            [ngClass]="{ 'is-invalid': form.controls.emailaddress.invalid, 'is-valid': form.controls.emailaddress.valid }"
                            type="email" formControlName="emailaddress"
                            placeholder="max. {{validations.maxlengthemailaddress}} karakters">
                    </div>
                </div>

                <div *ngFor="let roleItem of roleItems" class="row mb-3">
                    <label for="role{{roleItem.value}}" class="col-3 col-sm-6 col-form-label pointer">
                        <span>{{getRoleName(roleItem.value)}}</span></label>
                    <div class="col-9 col-sm-6">
                        <div class="form-control form-check form-switch">
                            <input type="checkbox" class="form-check-input" id="role{{roleItem.value}}"
                                formControlName="role{{roleItem.value}}" (ngModelChange)="toggleRoleItem(roleItem)">
                            <label class="form-check-label" for="role{{roleItem.value}}"></label>
                        </div>
                    </div>
                </div>
                <div class="row mb-3 justify-content-end">
                    <div class="col-9 col-sm-6">
                        <button [disabled]="form.invalid || !hasSomeRoleSelected()" type="submit"
                            class="btn btn-primary">
                            toevoegen & uitnodigen
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>