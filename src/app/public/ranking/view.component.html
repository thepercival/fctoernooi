<div class="container-fluid px-0">
  <div class="row justify-content-around g-0">
    <div class="col-12 col-lg-10">
      <app-tournament-title [tournament]="tournament">
      </app-tournament-title>
      <h2 *ngIf="processing" class="text-center">
        <fa-icon [icon]="['fas', 'spinner']" [spin]="true"></fa-icon>
      </h2>
      <ngb-alert *ngIf="alert" [type]="alert.type">{{ alert.message }}</ngb-alert>
      <div *ngIf="!processing && tournament && structure">
        <ul ngbNav #nav="ngbNav" [(activeId)]="activeTab" class="nav-tabs">
          <li [ngbNavItem]="1">
            <a ngbNavLink>poulestanden</a>
            <ng-template ngbNavContent>
              <app-tournament-ranking-round [round]="structure.getRootRound()" [tournament]="tournament"
                [competitorMap]="competitorMap" [first]="true">
              </app-tournament-ranking-round>
            </ng-template>
          </li>
          <li [ngbNavItem]="2">
            <a ngbNavLink>eindstand</a>
            <ng-template ngbNavContent>
              <app-tournament-endranking [competitorMap]="competitorMap" [favorites]="favorites"
                [structure]="structure"></app-tournament-endranking>
            </ng-template>
          </li>
          <li [ngbNavItem]="3">
            <a ngbNavLink>regels</a>
            <ng-template ngbNavContent>
              <div class="m-3">
                <h4>rangschikking</h4>
                <app-ranking-rules [againstRuleSet]="tournament.getCompetition().getAgainstRuleSet()"
                  [editMode]="isAdmin() && !hasBegun" (changed)="saveRankingRuleSet($event)">
                </app-ranking-rules>
              </div>
            </ng-template>
          </li>
        </ul>
        <div [ngbNavOutlet]="nav"></div>
      </div>
    </div>
  </div>
</div>