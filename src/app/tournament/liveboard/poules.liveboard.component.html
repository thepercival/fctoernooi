<div class="d-flex justify-content-between">
  <div class="pr-5">
    <ng-container *ngTemplateOutlet="pouleRanking;context:{$implicit: screen.getFirstPoule()}">
    </ng-container>
  </div>
  <div class="pl-5">
    <ng-container *ngTemplateOutlet="pouleRanking;context:{$implicit: screen.getLastPoule()}">
    </ng-container>
  </div>
</div>

<ng-template #pouleRanking let-poule>
  <table *ngIf="poule" class="table liveboard">
    <thead>
      <tr>
        <th class="text-right width-14">pl</th>
        <th class="text-info width-40">{{nameService.getPouleName(poule, true)}}</th>
        <th class="text-right width-8">g</th>
        <th class="text-right width-8">pnt</th>
        <th class="text-center width-30">&Delta;</th>
      </tr>
    </thead>
    <tbody>
      <ng-template ngFor let-rankingItem [ngForOf]="getRankingItems(poule)">
        <tr>
          <td nowrap class="text-right">
            <ng-container
              *ngTemplateOutlet="qualclass;context:{$implicit: cssService.getQualifyPlace(poule.getPlace(rankingItem.getUniqueRank()))}">
            </ng-container>
            <span>{{rankingItem.getUniqueRank()}}</span>
          </td>
          <td class="place">{{nameService.getPlaceFromName(getPlace(rankingItem), true)}}</td>
          <td class="text-right">{{rankingItem.getGames()}}</td>
          <td class="text-right">{{rankingItem.getPoints()}}</td>
          <td nowrap class="text-center unitdiff">
            <span>{{rankingItem.getDiff() > 0 ? '+' : ''}}{{rankingItem.getDiff()}} </span>
            <span class="d-none d-xl-inline">
              ({{rankingItem.getScored()}}-{{rankingItem.getReceived()}})
            </span>
          </td>
        </tr>
      </ng-template>
    </tbody>
  </table>
</ng-template>

<ng-template #qualclass let-qualclass>
  <fa-icon *ngIf="qualclass.icon !== undefined" [icon]="['fas', qualclass.icon]" class="{{qualclass.text}}"></fa-icon>
</ng-template>