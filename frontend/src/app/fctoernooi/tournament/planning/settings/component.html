<div *ngIf="selectedRound && modelConfig && tournament && structureService" class="container-fluid px-0">
    <div class="row justify-content-center mx-0" style="min-height:4.5rem;">
        <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8 mt-1">
            <ngb-alert *ngIf="alert" [type]="alert.type" style="width:100%;" [dismissible]="true" (close)="alert = null;">
                <i *ngIf="processing" class="fa fa-spinner fa-spin"></i> {{ alert.message }}</ngb-alert>
            <h2 *ngIf="!alert" class="hidden-sm-up pt-2">instellingen</h2>
        </div>
    </div>

    <div class="row justify-content-center mx-0">
        <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8">
            <p>
                <button type="button" class="btn btn-outline-primary" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed"
                    aria-controls="collapseExample">
                    <span [innerHTML]="structureService.getRoundName( selectedRound )"></span>
                    <span *ngIf="selectedRound.getNumber() > 1" class="fa fa-info-circle icon-{{getClassPostfix( selectedRound.getWinnersOrLosers() )}}"
                        title="{{getWinnersLosersDescription( selectedRound.getWinnersOrLosers() )}}ronde"></span>
                </button>
            </p>
            <div id="collapseExample" [ngbCollapse]="isCollapsed">
                <div class="card">
                    <div class="card-body">
                        You can collapse this card by clicking Toggle
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row justify-content-center mx-0">
        <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8">
            <form name="form" (ngSubmit)="saveConfig() && false" #f="ngForm" novalidate>
                <div class="form-group row">
                    <label for="nrofheadtoheadmatches" class="col-8 col-sm-9 col-form-label">aantal onderlinge duels</label>
                    <div class="col-4 col-sm-3">
                        <select [ngModel]="modelConfig.nrOfHeadtoheadMatches" (ngModelChange)="setNrOfHeadtoheadMatches($event)" id="nrOfHeadtoheadMatches"
                            name="nrOfHeadtoheadMatches" class="form-control" required>
                            <option *ngFor="let n of ranges.nrOfHeadtoheadMatches" [attr.value]="n">{{n}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="winpoints" class="col-8 col-sm-9 col-form-label">punten bij overwinning</label>
                    <div class="col-4 col-sm-3">
                        <select [ngModel]="modelConfig.winPoints" (ngModelChange)="setWinPoints($event)" id="winpoints" name="winpoints" class="form-control"
                            required>
                            <option *ngFor="let n of ranges.winPoints" [attr.value]="n">{{n}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="drawpoints" class="col-8 col-sm-9 col-form-label">punten bij gelijkspel</label>
                    <div class="col-4 col-sm-3">
                        <select [ngModel]="modelConfig.drawPoints" (ngModelChange)="setDrawPoints($event)" id="drawpoints" name="drawpoints" class="form-control"
                            required>
                            <option *ngFor="let n of ranges.drawPoints" [attr.value]="n">{{n}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="hasExtension" class="col-8 col-sm-9 col-form-label">verlenging bij gelijkspel</label>
                    <div class="form-check col-4 col-sm-3">
                        <label class="form-check-label">
                            <input [ngModel]="modelConfig.hasExtension" (ngModelChange)="setHasExtension($event)" id="hasExtension" name="hasExtension"
                                class="form-check-input" type="checkbox">
                        </label>
                    </div>
                </div>
                <div *ngIf="modelConfig.hasExtension" class="form-group row">
                    <label for="winpointsext" class="col-7 col-sm-8 offset-1 col-form-label">punten bij overwinning</label>
                    <div class="col-4 col-sm-3">
                        <select [ngModel]="modelConfig.winPointsExt" (ngModelChange)="setWinPointsExt($event)" id="winpointsext" name="winpointsext"
                            class="form-control" required>
                            <option *ngFor="let n of ranges.winPoints" [attr.value]="n">{{n}}</option>
                        </select>
                    </div>
                </div>
                <div *ngIf="modelConfig.hasExtension" class="form-group row">
                    <label for="drawpointsext" class="col-7 col-sm-8 offset-1 col-form-label">punten bij gelijkspel</label>
                    <div class="col-4 col-sm-3">
                        <select [ngModel]="modelConfig.drawPointsExt" (ngModelChange)="setDrawPointsExt($event)" id="drawpointsext" name="drawpointsext"
                            class="form-control" required>
                            <option *ngFor="let n of ranges.drawPoints" [attr.value]="n">{{n}}</option>
                        </select>
                    </div>
                </div>
                <div *ngIf="modelConfig.hasExtension" class="form-group row">
                    <label for="minutesPerGameExt" class="col-7 col-sm-8 offset-1 col-form-label">minuten</label>
                    <div class="col-4 col-sm-3">
                        <input type="number" [maxlength]="2" min="validations.minMinutesPerGame" max="validations.maxMinutesPerGame" [ngModel]="modelConfig.minutesPerGameExt"
                            (ngModelChange)="setMinutesPerGameExt($event)" id="minutesPerGameExt" name="minutesPerGameExt" class="form-control"
                            required />
                    </div>
                </div>
                <div class="form-group row">
                    <label for="enableTime" class="col-8 col-sm-9 col-form-label">plannen o.b.v. tijd</label>
                    <div class="form-check col-4 col-sm-3">
                        <label class="form-check-label">
                            <input [ngModel]="modelConfig.enableTime" (ngModelChange)="setEnableTime($event)" id="enableTime" name="enableTime" class="form-check-input"
                                type="checkbox">
                        </label>
                    </div>
                </div>
                <div *ngIf="modelConfig.enableTime" class="form-group row">
                    <label for="minutesPerGame" class="col-7 col-sm-8 offset-1 col-form-label">minuten per wedstrijd</label>
                    <div class="col-4 col-sm-3">
                        <input type="number" [maxlength]="2" min="validations.minMinutesPerGame" max="validations.maxMinutesPerGame" [ngModel]="modelConfig.minutesPerGame"
                            (ngModelChange)="setMinutesPerGame($event)" id="minutesPerGame" name="minutesPerGame" class="form-control"
                            required />
                    </div>
                </div>
                <div *ngIf="modelConfig.enableTime" class="form-group row">
                    <label for="minutesinbetween" class="col-7 col-sm-8 offset-1 col-form-label">minuten tussen wedstrijden</label>
                    <div class="col-4 col-sm-3">
                        <input type="number" [maxlength]="2" min="validations.minMinutesPerGame" max="validations.maxMinutesPerGame" [ngModel]="modelConfig.minutesInBetween"
                            (ngModelChange)="setMinutesInBetween($event)" id="minutesinbetween" name="minutesinbetween" class="form-control"
                            required>

                    </div>
                </div>

                <div *ngFor="let scoreConfig of selectedRound.getScoreConfigs()" class="form-group row">
                    <label for="scoreMaximum" class="col-8 col-sm-9 col-form-label">{{scoreConfig.getName()}}({{getDirectionDescription(scoreConfig)}})</label>
                    <div class="col-4 col-sm-3">
                        <input type="number" [maxlength]="4" [ngModel]="scoreConfig.getMaximum()" (ngModelChange)="setScoreConfigMaximum(scoreConfig,$event)"
                            id="scoreMaximum-{{scoreConfig.getId()}}" name="scoreMaximum-{{scoreConfig.getId()}}" class="form-control"
                            [disabled]="scoreConfig.getChild()?.getMaximum() === 0" required />
                    </div>
                </div>

                <div *ngIf="error" class="alert alert-danger">{{error}}</div>
                <button type="submit" [disabled]="!f.form.valid || processing" class="btn btn-primary">instellingen opslaan
                    <i *ngIf="processing" class="fa fa-spinner fa-spin fa-fw"></i>
                </button>

                <!--<div class="form-group col">-->
                <!--<label for="winpointspergame" class="col-form-label">punten per overwinning</label>-->
                <!--<input type="number" class="form-control" id="winpointspergame" name="winpointspergame" [min]="validations.minwinpointspergame" [max]="validations.maxwinpointspergame" [(ngModel)]="model.winpointspergame" #winpointspergame="ngModel" required>-->
                <!--</div>-->
                <!--<div *ngIf="f.submitted && model.nrofcompetitors < validations.minnrofcompetitors" class="alert alert-danger">het minimum aantal deelnemers is {{validations.minnrofcompetitors}}</div>-->
                <!--<div *ngIf="f.submitted && model.nrofcompetitors > validations.maxnrofcompetitors" class="alert alert-danger">het maximum aantal deelnemers is {{validations.maxnrofcompetitors}}</div>-->
                <!--<div *ngIf="f.submitted && model.nroffields < validations.minnroffields" class="alert alert-danger">het minimum aantal velden is {{validations.minnroffields}}</div>-->
                <!--<div *ngIf="f.submitted && model.nroffields > validations.maxnroffields" class="alert alert-danger">het maximum aantal velden is {{validations.maxnroffields}}</div>-->
                <!--<div *ngIf="error" class="alert alert-danger">{{error}}</div>-->
            </form>
        </div>
    </div>
</div>